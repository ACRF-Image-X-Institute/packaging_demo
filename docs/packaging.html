
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Packaging &#8212; Packaging Demo  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Uploading to PyPi (or test PyPi in this case)" href="uploading.html" />
    <link rel="prev" title="Add documentation" href="documentation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="packaging">
<h1>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h1>
<section id="setting-up-the-meta-data-files">
<h2>setting up the meta data files<a class="headerlink" href="#setting-up-the-meta-data-files" title="Permalink to this headline">¶</a></h2>
<p>The first thing we need to do is set up some files that hold the information about how to build our project, what it’s depenencies are, etc. These instructions are based off [this tutorial])(https://packaging.python.org/en/latest/tutorials/packaging-projects/)</p>
<p>First create a file called pyproject.toml and copy the below code into it. This file identifies what system we are using to build and package our code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">build</span><span class="o">-</span><span class="n">system</span><span class="p">]</span>
<span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;setuptools&gt;=42&quot;</span><span class="p">,</span> <span class="s2">&quot;wheel&quot;</span><span class="p">]</span>
<span class="n">build</span><span class="o">-</span><span class="n">backend</span> <span class="o">=</span> <span class="s2">&quot;setuptools.build_meta&quot;</span>
</pre></div>
</div>
<p>Next, make a new file called setup.cfg and copy the below into it</p>
<blockquote>
<div><p>The setup file can be either a .py file or a .cfg file. I am using cfg as recommended in the official packaging instructions, but I don’t really know what the pros and cons are.</p>
</div></blockquote>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="k">[metadata]</span><span class="w"></span>
<span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">example-package-YOUR-USERNAME-HERE</span><span class="w"></span>
<span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.0.1</span><span class="w"></span>
<span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Example Author</span><span class="w"></span>
<span class="na">author_email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">author@example.com</span><span class="w"></span>
<span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">A small example package</span><span class="w"></span>
<span class="na">long_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">file: README.md</span><span class="w"></span>
<span class="na">long_description_content_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">text/markdown</span><span class="w"></span>
<span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://github.com/pypa/sampleproject</span><span class="w"></span>
<span class="na">project_urls</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="na">Bug Tracker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://github.com/pypa/sampleproject/issues</span><span class="w"></span>
<span class="na">classifiers</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="na">Programming Language :: Python :: 3</span><span class="w"></span>
<span class="w">    </span><span class="na">License :: OSI Approved :: MIT License</span><span class="w"></span>
<span class="w">    </span><span class="na">Operating System :: OS Independent</span><span class="w"></span>

<span class="k">[options]</span><span class="w"></span>
<span class="na">package_dir</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">src</span><span class="w"></span>
<span class="na">packages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">find:</span><span class="w"></span>
<span class="na">python_requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&gt;=3.6</span><span class="w"></span>

<span class="k">[options.packages.find]</span><span class="w"></span>
<span class="na">where</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">src</span><span class="w"></span>
</pre></div>
</div>
<p>Obviously, this is a template, and we need to update it to reflect our project. The version of this file inside this repository has already been updated; you can use this as a base for creating your own setup.cfg files. The actual .cfg file for this package is below. <strong>important: make sure you change the name of the package to reflect your username. This is to ensure the package has a unique name</strong></p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="k">[metadata]</span><span class="w"></span>
<span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">example-package-bwheelz36</span><span class="w"></span>
<span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">attr: MyPackage.__version__</span><span class="w"></span>
<span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Brendan Whelan</span><span class="w"></span>
<span class="na">author_email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">bwheelz36@gmail.com</span><span class="w"></span>
<span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">A small example package</span><span class="w"></span>
<span class="na">long_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">file: README.md</span><span class="w"></span>
<span class="na">license_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">LICENSE</span><span class="w"></span>
<span class="na">long_description_content_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">text/markdown</span><span class="w"></span>
<span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://github.com/pypa/sampleproject</span><span class="w"></span>
<span class="na">project_urls</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="na">Bug Tracker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">https://github.com/pypa/sampleproject/issues</span><span class="w"></span>
<span class="na">classifiers</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="na">Programming Language :: Python :: 3</span><span class="w"></span>
<span class="w">    </span><span class="na">Operating System :: OS Independent</span><span class="w"></span>
<span class="k">[options]</span><span class="w"></span>
<span class="na">package_dir</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">.</span><span class="w"></span>
<span class="na">packages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">MyPackage</span><span class="w"></span>
<span class="na">python_requires</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&gt;=3.6</span><span class="w"></span>
<span class="na">install_requires</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">    </span><span class="na">numpy &gt;</span><span class="o">=</span><span class="w"> </span><span class="s">1.6.0</span><span class="w"></span>
<span class="w">    </span><span class="na">matplotlib &gt;</span><span class="o">=</span><span class="w"> </span><span class="s">3.5.0</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="building-the-package">
<h2>Building the package<a class="headerlink" href="#building-the-package" title="Permalink to this headline">¶</a></h2>
<p>From a terminal, type</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">build</span>
</pre></div>
</div>
<p>If succesful, you will have a new folder called ‘dist’ which contains the distribution of your code. This is what we can uploadto PyPi.</p>
</section>
<section id="difference-between-install-requires-and-dev-requirements-txt">
<h2>difference between install requires and dev-requirements.txt<a class="headerlink" href="#difference-between-install-requires-and-dev-requirements-txt" title="Permalink to this headline">¶</a></h2>
<p>note that setup.cfg <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> tag only defines depenencies of our <strong>package</strong>. Meanwhile, dev-requirements.txt contains all the dependencies that <strong>developers</strong> will need, e.g. pytest, sphinx, etc. In this way, developers can still quickly setup a new project and end users only get the requirements to run the code.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Packaging Demo</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="set_up_environment.html">Environment set up</a></li>
<li class="toctree-l1"><a class="reference internal" href="package_setup.html">Create demo package</a></li>
<li class="toctree-l1"><a class="reference internal" href="add_supporting_files.html">Add supporting files</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Write some examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Add test cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Add documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Packaging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-the-meta-data-files">setting up the meta data files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-package">Building the package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#difference-between-install-requires-and-dev-requirements-txt">difference between install requires and dev-requirements.txt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="uploading.html">Uploading to PyPi (or test PyPi in this case)</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_docs.html">Code Documentation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="documentation.html" title="previous chapter">Add documentation</a></li>
      <li>Next: <a href="uploading.html" title="next chapter">Uploading to PyPi (or test PyPi in this case)</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Brendan Whelan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/packaging.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>